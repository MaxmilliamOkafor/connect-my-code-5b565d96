(function(){"use strict";const j="EMBER_M3RecordDataCache_FORMAT_JOBS_TO_FH",R="EMBER_M3RecordDataCache_REQUEST_DATA_TO_MAIN",w="EMBER_M3RecordDataCache_RESPONSE_DATA_TO_FH",A="MOSAIC_PROVIDER_REQUEST_DATA_TO_MAIN",D="MOSAIC_PROVIDER_REQUEST_DATA_TO_FH",b=new Set([]),h=100;window.addEventListener("load",()=>{const e=new URL(window.location.href).searchParams.get("currentJobId");e&&!b.has(e)&&b.add(e)}),navigation.addEventListener("navigate",e=>{const r=window,n=e.destination.url;function c(){const d=r.requireModule?r.requireModule("ember").default:r.Ember;if(d){const l=new URL(n).searchParams.get("currentJobId");l&&!b.has(l)&&b.add(l);const _=d.Namespace.NAMESPACES.find(o=>o instanceof d.Application).__container__.lookup("service:store")._globalM3RecordDataCache,p=Object.keys(_).filter(o=>o.startsWith("urn:li:fsd_jobPosting:")).map(o=>o.split(":").at(-1)||"").filter(o=>o&&!b.has(o));if(p.length>0){const o=[];for(const t of p){const a=E(_,t);a.company_name&&a.job_title&&a.job_description&&(o.push(a),b.add(t))}if(o.length>0&&window.postMessage({type:j,data:o},"*"),b.size>h){const t=b.values(),a=b.size-h;for(let f=0;f<a;f++)b.delete(t.next().value)}}}}if(n.includes("linkedin.com/jobs/search"))try{c()}catch{}}),window.addEventListener("message",e=>{var r,n,c,d,l,_,p,o,t,a;if(e.data.type===R){const f=e.data.data,m=window,i=m.requireModule?m.requireModule("ember").default:m.Ember;if(i){const u=i.Namespace.NAMESPACES.find(y=>y instanceof i.Application).__container__.lookup("service:store")._globalM3RecordDataCache,s=E(u,f);window.postMessage({type:w,data:s},"*")}else window.postMessage({type:w},"*")}else if(e.data.type===A){const f=e.data.data,m=window,i=((l=(d=(c=(n=(r=m.mosaic)==null?void 0:r.providerData)==null?void 0:n["mosaic-provider-jobcards"])==null?void 0:c.metaData)==null?void 0:d.mosaicProviderJobCardsModel)==null?void 0:l.results)??((a=(t=(o=(p=(_=m.mosaic)==null?void 0:_.providerData)==null?void 0:p["mosaic-provider-jobcards-1"])==null?void 0:o.metaData)==null?void 0:t.mosaicProviderJobCardsModel)==null?void 0:a.results);let u={};i.forEach(s=>{var y,I;s.jobkey===f&&(u={job_key:s.jobkey,via:"Indeed",company_name:s.company,job_title:s.title,job_location:s.formattedLocation,posted_date:s.formattedRelativeTime,application_link:`https://www.indeed.com${s.viewJobLink}`,estimated_pay:s.salarySnippet.text,job_type:((I=(y=s.taxonomyAttributes.find(M=>M.label==="job-types"))==null?void 0:y.attributes)==null?void 0:I.map(M=>M.label).join(","))||"",is_expired:s.expired})}),window.postMessage({type:D,data:u},"*")}});function E(e,r){var _,p,o,t,a,f,m;const n=e[`urn:li:fsd_jobPosting:${r}`].__data,c=(((_=e[`urn:li:fsd_jobPostingCard:(${r},JOB_DETAILS)`].__data)==null?void 0:_.jobInsightsV2ResolutionResults)||[]).filter(i=>i.jobInsightViewModel&&i.jobInsightViewModel.description).flatMap(i=>i.jobInsightViewModel.description).map(i=>{var u,s;return(s=(u=i.label)==null?void 0:u.text)==null?void 0:s.text}).filter(i=>i),d=c.length>0,l=(o=(p=n.companyDetails)==null?void 0:p.jobCompany)==null?void 0:o["*company"];return{job_key:r,via:"LinkedIn",company_name:l?(a=(t=e[l])==null?void 0:t.__data)==null?void 0:a.name:"",job_title:n.title,job_location:n["*location"]&&((m=(f=e[n["*location"]])==null?void 0:f.__data)==null?void 0:m.abbreviatedLocalizedName)||"",posted_date:n.createdAt?new Date(n.createdAt).toISOString().split("T")[0]:"",application_link:`https://www.linkedin.com/jobs/view/${r}`,job_description:S(n),estimated_pay:d&&c.find(i=>/\$\d+/.test(i))||"",job_type:d&&c.find(i=>/Full-time|Part-time|Contract|Temporary|Volunteer|Internship|Other/.test(i))||"",job_level:d&&c.find(i=>/Internship|Entry level|Associate|Mid-Senior level|Director|Executive/.test(i))||"",location_type:d&&c.find(i=>/On-site|Remote|Hybrid/.test(i))||"",is_expired:n.jobState==="CLOSED"}}function S(e){var r,n,c;try{if(!e.description||typeof e.description.text!="string"||!Array.isArray(e.description.attributesV2)||e.description.attributesV2.length===0)return((r=e.description)==null?void 0:r.text)||"";const d=e.description.text,l=e.description.attributesV2,_=new Set;for(const t of l)if(t&&typeof t=="object"&&typeof t.start=="number"){const a=(n=t.detailData)==null?void 0:n.style;a==="LIST_ITEM"?_.add(t.start):(a==="LIST"||a==="PARAGRAPH")&&(_.add(t.start),_.add(t.start+t.length))}const p=Array.from(_).sort((t,a)=>a-t);let o=d;for(const t of p)t>=0&&t<=o.length&&(o=`${o.slice(0,t)}
${o.slice(t)}`);return o.trim()}catch{return(c=e.description)==null?void 0:c.text}}})();
